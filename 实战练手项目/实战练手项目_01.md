# 1. 项目介绍
本项目是一个完整的博客系统实战项目，适合有一定 Java 基础的开发者练手。

- 后端技术栈：Spring Boot、MyBatis-Plus、Spring MVC、JWT、Redis、MySQL、Lombok、Fastjson。

- 前端技术栈：Vue 2.x + Vue CLI + ElementUI + Axios。

- 项目功能包括：

  - 文章发布、浏览、分类、标签、点赞、评论等；

  - 用户登录（JWT + Redis 实现 token 鉴权）；

  - 后台管理系统（文章管理、用户管理等）；

- 结构拆分：

  - 前端部分 blog-view（用户端博客前台）；

  - 后端部分 blog-api（REST API 服务）；

  - 数据库 blog 数据库（MySQL）；

- 项目将按功能模块分章节逐步开发，有详细注释与代码讲解。

  

# 2. 项目搭建

  

后端部分搭建流程：

- 使用 IDEA 创建父工程 blog-parent，打包方式为 pom，作为聚合工程。

- 在父工程下创建两个模块：

  - blog-api（后端主模块）；

  - blog-common（通用工具类、配置等）。

- 配置 `pom.xml`：

  - 引入 Spring Boot Starter、MyBatis-Plus、Lombok、Fastjson 等依赖；

  - 设置 Java 编译版本，资源文件编码 UTF-8；

- 创建 application.yml 配置文件：

  ```yaml

  server:

    port: 8080

  spring:

    datasource:

      url: jdbc:mysql://localhost:3306/blog?useSSL=false

      username: root

      password: root

      driver-class-name: com.mysql.cj.jdbc.Driver

    jackson:

      date-format: yyyy-MM-dd HH:mm:ss

      time-zone: GMT+8

  ```

- 前端使用 Vue CLI 搭建，命令：

  ```bash

  vue create blog-view

  cd blog-view

  npm install

  npm run serve

  ```

  

# 3. 首页文章列表实现（一）

  

目标：实现首页文章列表接口的基础版本。

- 接口路径：`POST /articles`

- 请求参数使用 PageParams 类封装（包含 page、pageSize）。

- 控制器编写：

  ```java

  @RestController

  @RequestMapping("/articles")

  public class ArticleController {

      @Autowired

      private ArticleService articleService;

  

      @PostMapping

      public Result listArticle(@RequestBody PageParams pageParams) {

          return articleService.listArticle(pageParams);

      }

  }

  ```

- 服务层逻辑：

  - 使用 MyBatis-Plus 的分页插件；

  - 封装文章信息到 ArticleVo（包括标题、摘要、作者、发布时间等）；

- VO 层（视图层模型）：

  - ArticleVo：展示字段；

  - TagVo：展示标签；

  - PageParams：接收分页参数。

  

# 4. 首页文章列表实现（二）

  

目标：进一步完善首页文章展示数据。

- 内容完善：

  - 增加作者信息、标签列表；

  - 增加文章的浏览量（viewCounts）、评论数（commentCounts）；

- 查询逻辑优化：

  - 查询文章时连接 user 表获取作者名；

  - 查询 article_tag 表和 tag 表获取文章标签；

- 工具类封装：

  - CopyUtil：用于将 Entity 转为 VO；

  - BeanUtils.copyProperties() 替代手动 set；

- 封装分页结果：

  ```java

  IPage<Article> articlePage = this.baseMapper.selectPage(page, wrapper);

  List<ArticleVo> articleVoList = copyList(articlePage.getRecords(), true, true);

  ```

  

# 5. 首页热门标签功能

  

目标：实现首页右侧热门标签展示模块。

- 接口路径：`GET /tags/hot`

- 热门标签：按照文章中使用频率高的标签排序，返回前 N 个。

- Service 层逻辑：

  ```java

  @Override

  public List<TagVo> hots(int limit) {

      List<Long> tagIds = tagMapper.findHotTagIds(limit);

      if (CollectionUtils.isEmpty(tagIds)) return Collections.emptyList();

      List<Tag> tagList = this.listByIds(tagIds);

      return copyList(tagList);

  }

  ```

- Mapper 层 SQL 示例：

  ```sql

  SELECT tag_id FROM ms_article_tag GROUP BY tag_id ORDER BY COUNT(*) DESC LIMIT #{limit}

  ```

- 最终返回前端：

  - Tag 名称、ID；

  - 排序靠前的标签展示在首页右侧的“热门标签”区域。